/* ---------------------------------------------------- */
/*  Generated by Enterprise Architect Version 13.5 		*/
/*  Created On : 07-Sep-2019 10:30:31 PM 				*/
/*  DBMS       : Oracle 						*/
/* ---------------------------------------------------- */

/* Drop Tables */

begin
	EXECUTE IMMEDIATE 'DROP TABLE   "Calificacion" CASCADE CONSTRAINTS';
	EXCEPTION WHEN OTHERS THEN NULL;
end;  
/

begin
	EXECUTE IMMEDIATE 'DROP TABLE   "Categoria" CASCADE CONSTRAINTS';
	EXCEPTION WHEN OTHERS THEN NULL;
end;  
/

begin
	EXECUTE IMMEDIATE 'DROP TABLE   "Cliente" CASCADE CONSTRAINTS';
	EXCEPTION WHEN OTHERS THEN NULL;
end;  
/

begin
	EXECUTE IMMEDIATE 'DROP TABLE   "Cliente_Pedido" CASCADE CONSTRAINTS';
	EXCEPTION WHEN OTHERS THEN NULL;
end;  
/

begin
	EXECUTE IMMEDIATE 'DROP TABLE   "Grado" CASCADE CONSTRAINTS';
	EXCEPTION WHEN OTHERS THEN NULL;
end;  
/

begin
	EXECUTE IMMEDIATE 'DROP TABLE   "Impuesto" CASCADE CONSTRAINTS';
	EXCEPTION WHEN OTHERS THEN NULL;
end;  
/

begin
	EXECUTE IMMEDIATE 'DROP TABLE   "ModoDePago" CASCADE CONSTRAINTS';
	EXCEPTION WHEN OTHERS THEN NULL;
end;  
/

begin
	EXECUTE IMMEDIATE 'DROP TABLE   "Pais" CASCADE CONSTRAINTS';
	EXCEPTION WHEN OTHERS THEN NULL;
end;  
/

begin
	EXECUTE IMMEDIATE 'DROP TABLE   "Pedido" CASCADE CONSTRAINTS';
	EXCEPTION WHEN OTHERS THEN NULL;
end;  
/

begin
	EXECUTE IMMEDIATE 'DROP TABLE   "Producto" CASCADE CONSTRAINTS';
	EXCEPTION WHEN OTHERS THEN NULL;
end;  
/

begin
	EXECUTE IMMEDIATE 'DROP TABLE   "Producto_pedido" CASCADE CONSTRAINTS';
	EXCEPTION WHEN OTHERS THEN NULL;
end;  
/

begin
	EXECUTE IMMEDIATE 'DROP TABLE   "Producto_Region" CASCADE CONSTRAINTS';
	EXCEPTION WHEN OTHERS THEN NULL;
end;  
/

begin
	EXECUTE IMMEDIATE 'DROP TABLE   "Producto_Subcategoria" CASCADE CONSTRAINTS';
	EXCEPTION WHEN OTHERS THEN NULL;
end;  
/

begin
	EXECUTE IMMEDIATE 'DROP TABLE   "Region" CASCADE CONSTRAINTS';
	EXCEPTION WHEN OTHERS THEN NULL;
end;  
/

begin
	EXECUTE IMMEDIATE 'DROP TABLE   "RepresentanteVentas" CASCADE CONSTRAINTS';
	EXCEPTION WHEN OTHERS THEN NULL;
end;  
/

begin
	EXECUTE IMMEDIATE 'DROP TABLE   "RepresentanteVentas_Cliente" CASCADE CONSTRAINTS';
	EXCEPTION WHEN OTHERS THEN NULL;
end;  
/

begin
	EXECUTE IMMEDIATE 'DROP TABLE   "Subcategoria" CASCADE CONSTRAINTS';
	EXCEPTION WHEN OTHERS THEN NULL;
end;  
/

/* Create Tables */

CREATE TABLE  "Calificacion"
(
	"ID_CALIFICACION" NUMBER(8,2) NOT NULL,
	"ID_CLIENTE" NUMBER(8,2) NOT NULL,
	"ID" NUMBER(10,1) NOT NULL,
	"ESTRELLAS" NUMBER(8,2) NOT NULL,
	"IDPEDIDO" NUMBER(8,2) NOT NULL
)
;

CREATE TABLE  "Categoria"
(
	"IDCATEGORIA" NUMBER(8,2) NOT NULL,
	"NOMBRECATEGORIA" VARCHAR2(50) NULL
)
;

CREATE TABLE  "Cliente"
(
	"CEDULA" NUMBER(8,2) NOT NULL,
	"NOMBRECLIENTE" VARCHAR2(50) NULL,
	"APELLIDOCLIENTE" VARCHAR2(50) NULL,
	"TELEFONO" VARCHAR2(50) NULL,
	"DIRECCION" VARCHAR2(50) NULL,
	"CIUDAD" VARCHAR2(50) NULL,
	"CORREOELECTRONICO" VARCHAR2(50) NULL
)
;

CREATE TABLE  "Cliente_Pedido"
(
	"FECHAPEDIDO" DATE NULL,
	"IDPEDIDO" NUMBER(8,2) NULL
)
;

CREATE TABLE  "Grado"
(
	"IDGRADO" NUMBER(8,2) NOT NULL,
	"NOMBREGRADO" VARCHAR2(50) NULL,
	"DESCRIPCIONGRADO" VARCHAR2(50) NULL
)
;

CREATE TABLE  "Impuesto"
(
	"IDIMPUESTO" NUMBER(8,2) NOT NULL,
	"IVA" NUMBER(4,2) NOT NULL,
	"TIPOPRODUCTO" VARCHAR2(50) NULL,
	"FECHAINICIO" VARCHAR2(50) NULL,
	"FECHAFINAL" VARCHAR2(50) NULL
)
;

CREATE TABLE  "ModoDePago"
(
	"IDMODODEPAGO" NUMBER(8,2) NOT NULL,
	"NOMBREMODODEPAGO" VARCHAR2(50) NULL
)
;

CREATE TABLE  "Pais"
(
	"IDPAIS" NUMBER(8,2) NOT NULL,
	"NOMBREPAIS" VARCHAR2(50) NOT NULL
)
;

CREATE TABLE  "Pedido"
(
	"IDPEDIDO" NUMBER(8,2) NOT NULL,
	"ESTADOPEDIDO" VARCHAR2(50) NULL,
	"CALIFICACION" VARCHAR2(50) NULL,
	"IDMODODEPAGO" NUMBER(8,2) NULL
)
;

CREATE TABLE  "Producto"
(
	"IDPRODUCTO" NUMBER(8,2) NOT NULL,
	"NOMBREPRODUCTO" VARCHAR2(50) NOT NULL,
	"IDIMPUESTO" NUMBER(8,2) NULL
)
;

CREATE TABLE  "Producto_pedido"
(
	"ID_DETALLE" NUMBER(8,2) NOT NULL,
	"IDPEDIDO" NUMBER(8,2) NOT NULL,
	"CANTIDAD" NUMBER(8,2) NOT NULL,
	"IDPRODUCTO" NUMBER(8,2) NOT NULL
)
;

CREATE TABLE  "Producto_Region"
(
	"IDPRODUCTOREGION" VARCHAR2(50) NOT NULL,
	"PRECIO" NUMBER(8,2) NULL,
	"IDREGION" NUMBER(8,2) NULL,
	"IDPRODUCTO" NUMBER(8,2) NULL
)
;

CREATE TABLE  "Producto_Subcategoria"
(
	"ID" NUMBER(8,2) NOT NULL,
	"FECHACLASIFICACION" VARCHAR2(50) NULL,
	"IDSUBCATEGORIA" NUMBER(8,2) NULL,
	"IDPRODUCTO" NUMBER(8,2) NULL
)
;

CREATE TABLE  "Region"
(
	"IDREGION" NUMBER(8,2) NOT NULL,
	"NOMBREREGION" VARCHAR2(50) NOT NULL,
	"IDPAIS" NUMBER(8,2) NOT NULL
)
;

CREATE TABLE  "RepresentanteVentas"
(
	"IDENTIFICACION" NUMBER(8,2) NOT NULL,
	"NOMBRE" VARCHAR2(50) NOT NULL,
	"CORREOELECTRONICO" VARCHAR2(50) NULL,
	"GENERO" VARCHAR2(50) NOT NULL,
	"FECHANACIMIENTO" VARCHAR2(50) NOT NULL,
	"FECHACONTRATO" VARCHAR2(50) NULL,
	"TELEFONOCONTACTO" VARCHAR2(50) NULL,
	"DIRECCION" VARCHAR2(50) NULL,
	"IDGRADO" NUMBER(8,2) NOT NULL,
	"ESDIRECTOR" NUMBER(1,1) NOT NULL,
	"IDREGION" NUMBER(8,2) NOT NULL
)
;

CREATE TABLE  "RepresentanteVentas_Cliente"
(
	"FECHAINICIO" DATE NOT NULL,
	"FECHAFIN" DATE NULL,
	"ID" NUMBER(10,1) NOT NULL,
	"ID_REPRESENTANTE" NUMBER(8,2) NOT NULL,
	"ID_CLIENTE" NUMBER(8,2) NOT NULL
)
;

CREATE TABLE  "Subcategoria"
(
	"IDSUBCATEGORIA" NUMBER(8,2) NOT NULL,
	"NOMBRESUBCATEGORIA" VARCHAR2(50) NOT NULL,
	"DESCRIPCIONSUBCATEGORIA" VARCHAR2(50) NULL,
	"IDCATEGORIA" NUMBER(8,2) NULL
)
;

/* Create Primary Keys, Indexes, Uniques, Checks, Triggers */

ALTER TABLE  "Calificacion" 
 ADD CONSTRAINT "PK_CALIFICACION"
	PRIMARY KEY ("ID_CALIFICACION") 
 USING INDEX
;

CREATE INDEX "IXFK_Calificacion_Pedido"   
 ON  "Calificacion" ("IDPEDIDO") 
;

CREATE INDEX "IXFK_Calificacion_Represe01"   
 ON  "Calificacion" ("ID") 
;

ALTER TABLE  "Categoria" 
 ADD CONSTRAINT "PK_CATEOGORIA"
	PRIMARY KEY ("IDCATEGORIA") 
 USING INDEX
;

ALTER TABLE  "Cliente" 
 ADD CONSTRAINT "PK_CLIENTE"
	PRIMARY KEY ("CEDULA") 
 USING INDEX
;

CREATE INDEX "IXFK_Cliente_Pedido_Pedido"   
 ON  "Cliente_Pedido" ("IDPEDIDO") 
;

ALTER TABLE  "Grado" 
 ADD CONSTRAINT "PK_GRADO"
	PRIMARY KEY ("IDGRADO") 
 USING INDEX
;

ALTER TABLE  "Impuesto" 
 ADD CONSTRAINT "PK_IMPUESTO"
	PRIMARY KEY ("IDIMPUESTO") 
 USING INDEX
;

ALTER TABLE  "ModoDePago" 
 ADD CONSTRAINT "PK_ModoDePago"
	PRIMARY KEY ("IDMODODEPAGO") 
 USING INDEX
;

ALTER TABLE  "Pais" 
 ADD CONSTRAINT "PK_ID"
	PRIMARY KEY ("IDPAIS") 
 USING INDEX
;

ALTER TABLE  "Pedido" 
 ADD CONSTRAINT "PK_PEDIDO"
	PRIMARY KEY ("IDPEDIDO") 
 USING INDEX
;

CREATE INDEX "IXFK_Pedido_ModoDePago"   
 ON  "Pedido" ("IDMODODEPAGO") 
;

ALTER TABLE  "Producto" 
 ADD CONSTRAINT "PK_PRODUCTO"
	PRIMARY KEY ("IDPRODUCTO") 
 USING INDEX
;

CREATE INDEX "IXFK_Producto_Impuesto"   
 ON  "Producto" ("IDIMPUESTO") 
;

ALTER TABLE  "Producto_pedido" 
 ADD CONSTRAINT "PK_Producto_pedido"
	PRIMARY KEY ("ID_DETALLE") 
 USING INDEX
;

CREATE INDEX "IXFK_Producto_pedido_Pedido"   
 ON  "Producto_pedido" ("IDPEDIDO") 
;

CREATE INDEX "IXFK_Producto_pedido_Producto"   
 ON  "Producto_pedido" ("IDPRODUCTO") 
;

ALTER TABLE  "Producto_Region" 
 ADD CONSTRAINT "PK_PRODUCTO_REGION"
	PRIMARY KEY ("IDPRODUCTOREGION") 
 USING INDEX
;

CREATE INDEX "IXFK_Producto_Region_Producto"   
 ON  "Producto_Region" ("IDPRODUCTO") 
;

CREATE INDEX "IXFK_Producto_Region_Region"   
 ON  "Producto_Region" ("IDREGION") 
;

ALTER TABLE  "Producto_Subcategoria" 
 ADD CONSTRAINT "PK_Producto_Subcategoria"
	PRIMARY KEY ("ID") 
 USING INDEX
;

CREATE INDEX "IXFK_Producto_Sub_Subcate01"   
 ON  "Producto_Subcategoria" ("IDSUBCATEGORIA") 
;

ALTER TABLE  "Region" 
 ADD CONSTRAINT "PK_REGION"
	PRIMARY KEY ("IDREGION") 
 USING INDEX
;

CREATE INDEX "IXFK_Region_Pais"   
 ON  "Region" ("IDPAIS") 
;

ALTER TABLE  "RepresentanteVentas" 
 ADD CONSTRAINT "PK_IDENTIFICACION"
	PRIMARY KEY ("IDENTIFICACION") 
 USING INDEX
;

CREATE INDEX "IXFK_RepresentanteVentas_01"   
 ON  "RepresentanteVentas" ("IDREGION") 
;

CREATE INDEX "IXFK_RepresentanteVentas_Grado"   
 ON  "RepresentanteVentas" ("IDGRADO") 
;

ALTER TABLE  "RepresentanteVentas_Cliente" 
 ADD CONSTRAINT "PK_REPRESENTANTEVENTAS_CLIENTE"
	PRIMARY KEY ("ID") 
 USING INDEX
;

CREATE INDEX "IXFK_REPRESENTANT_VC"   
 ON  "RepresentanteVentas_Cliente" ("ID_REPRESENTANTE") 
;

CREATE INDEX "IXFK_RepresentanteVen_Cli01"   
 ON  "RepresentanteVentas_Cliente" ("ID_CLIENTE") 
;

ALTER TABLE  "Subcategoria" 
 ADD CONSTRAINT "PK_SUBCATEGORIA"
	PRIMARY KEY ("IDSUBCATEGORIA") 
 USING INDEX
;

CREATE INDEX "IXFK_Subcategoria_Categoria"   
 ON  "Subcategoria" ("IDCATEGORIA") 
;

/* Create Foreign Key Constraints */

ALTER TABLE  "Calificacion" 
 ADD CONSTRAINT "FK_Calificacion_Pedido"
	FOREIGN KEY ("IDPEDIDO") REFERENCES  "Pedido" ("IDPEDIDO")
;

ALTER TABLE  "Calificacion" 
 ADD CONSTRAINT "FK_Calificacion_Representan_01"
	FOREIGN KEY ("ID") REFERENCES  "RepresentanteVentas_Cliente" ("ID")
;

ALTER TABLE  "Cliente_Pedido" 
 ADD CONSTRAINT "FK_Cliente_Pedido_Pedido"
	FOREIGN KEY ("IDPEDIDO") REFERENCES  "Pedido" ("IDPEDIDO")
;

ALTER TABLE  "Pedido" 
 ADD CONSTRAINT "FK_Pedido_ModoDePago"
	FOREIGN KEY ("IDMODODEPAGO") REFERENCES  "ModoDePago" ("IDMODODEPAGO")
;

ALTER TABLE  "Producto_pedido" 
 ADD CONSTRAINT "FK_Producto_pedido_Pedido"
	FOREIGN KEY ("IDPEDIDO") REFERENCES  "Pedido" ("IDPEDIDO")
;

ALTER TABLE  "Producto_pedido" 
 ADD CONSTRAINT "FK_Producto_pedido_Producto"
	FOREIGN KEY ("IDPRODUCTO") REFERENCES  "Producto" ("IDPRODUCTO")
;

ALTER TABLE  "Producto_Region" 
 ADD CONSTRAINT "FK_Producto_Region_Region"
	FOREIGN KEY ("IDREGION") REFERENCES  "Region" ("IDREGION")
;

ALTER TABLE  "Producto_Subcategoria" 
 ADD CONSTRAINT "FK_PRODUCTO_SUB_SUBCATEGORI"
	FOREIGN KEY ("IDSUBCATEGORIA") REFERENCES   ()
;

ALTER TABLE  "Producto_Subcategoria" 
 ADD CONSTRAINT "FK_PRODUCTO_SUBCAT_PRODUCTO"
	FOREIGN KEY ("IDPRODUCTO") REFERENCES  "Producto" ("IDPRODUCTO")
;

ALTER TABLE  "Region" 
 ADD CONSTRAINT "FK_Region_Pais"
	FOREIGN KEY ("IDPAIS") REFERENCES  "Pais" ("IDPAIS")
;

ALTER TABLE  "RepresentanteVentas" 
 ADD CONSTRAINT "FK_RepresentanteVentas_Region"
	FOREIGN KEY ("IDREGION") REFERENCES  "Region" ("IDREGION")
;

ALTER TABLE  "RepresentanteVentas_Cliente" 
 ADD CONSTRAINT "FK_REPRESENTANT_VC"
	FOREIGN KEY ("ID_REPRESENTANTE") REFERENCES  "RepresentanteVentas" ("IDENTIFICACION")
;
